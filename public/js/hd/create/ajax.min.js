function ajaxBlocks(e,o){$.ajax({type:"get",url:"/block/ajax-blocks/"+e}).error(function(){alert("Error al obtener los datos\n Por favor, verifique su conexión a Internet");}).done(function(e){$(o).empty(),$(o).append("<option disabled selected> Seleccione un Block </option>"),$.each(e.blocks,function(e,n){$(o).append('<option value="'+n.id+'">'+n.estacion+"</option>");}),$.each(e.ramales,function(n,a){0===n&&$(o).append('<optgroup label="Ramales">'),$(o).append('<option value="'+a.id+'">'+a.nombre+"</option>"),n==e.blocks.length-1&&$(o).append("</optgroup>")})})}$("#selectblock").on("change",function(e){e.preventDefault();var o=e.target.value;"empty"==o?$(".selectubicacion").empty():$.ajax({type:"get",url:"/block/ajax-block-todo/"+o}).error(function(){alert("Error al obtener los datos\n Por favor verifique su conexión a Internet")}).done(function(e){$(".selectubicacion").empty(),$(".selectubicacion").append('<optgroup label="Vía Principal">'),$(".selectubicacion").append("<option value={'tipo':'block','id':"+e.block.id+"}>"+e.block.estacion+"</option>"),$(".selectubicacion").append("</optgroup>"),$.each(e.desvios,function(o,n){0===o&&$(".selectubicacion").append('<optgroup label="Desvíos">'),$(".selectubicacion").append("<option value={'tipo':'desvio','id':"+n.id+"}>"+n.nombre+"</option>"),o==e.desvios.length-1&&$(".selectubicacion").append("</optgroup>")}),$.each(e.desviadores,function(e,o){0===e&&$(".selectubicacion").append('<optgroup label="Desviadores">'),$(".selectubicacion").append("<option value={'tipo':'desviador','id':"+o.id+"}>"+o.nombre+"</option>")})})});
